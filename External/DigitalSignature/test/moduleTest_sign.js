const {spawn} = require('child_process');

const exeFilePath = '../dmodule';
const exeFile = spawn(exeFilePath, ['-s', '-r', 'a1b2c3d4e5', '8be1d500257f7ec2efe26d58dc3c4a56ffa90d801f435514bbe55b21a6e68f20e515fd3c7119e7599ed4718c95d9fc8ed92b9fe1b1416801e225c8c6e605b2594e3982703c3fb0f2ec4c38afb31b6f5f4cc2efc1d735348349aa25009f2188e726056023463425207101224527356310602468042740554434201636055857433710233744446007806118351163674734381133127273211103325744273560438428630655280385756145451130758525757400257788025280853425837085885851640346866680884245805564832758881162458840506131781272185456017270643552376826653283634424826040124800553618586786042586682322747464732310380003783884077625308153506021561354758535030145610108356833733006304810065564320013801245624528421553367877800408836842867734130113050152783022840310823465027800477147218117813083181658504530430106571825732165574408544271072847824383108625634553430404360847466213560615166801624137244463726812340203116267755085300055377815075114318148208545350072121181028751557366321173005864043047462687555872370538065856285683106274631452875280478253212755251311607806352573466662446288020135718427055153720774730171658211605772771781857481465337423838788454726832663083570700507403536878340735443368213410022653010447481403328554475143455880463218834623053165183821375248665778665513546771065485305158631756375322083114578428460802334752266888674683703007561416438374750216454008102424766036887744060483568276728525383236162704445554265352216331433427727814021567707422576055811383120705613186104615283638708662116413102148820645687287722545644580825480866604678481020311454303656221607843205247615773733668427516866336635808002834110286355645010662388046123352077105024058232157221566016705024013302264148285328378246254141804105550762664750867424576773118184488347887180151382014242886477730356147805185802518760803256132555005278403841035704104233334852840571657280182285517133666808546558824045470332710346264764377401760157172608107167470566170278478382647665135538451632545268581432534652465047268181152603375443484410123001765038630537241530570535283671870463551680770831021854114675136118650776741637000331340253424551084831612447731000216168872421828386612316468777245773268774303100054533282723686785407821386024100658134266175750700487461572817505146264042712618745160172547851477005478283311872834335024634608576100277283451336270431262871115156551681533333345854827710520627335021515324518057885208356278252703171578882280650020145822350064758354558077065521772188613548784203453611286328232760440114584473634430135324463238635506382544651222450658370677154276745704465068652053164886628470515516213627270563238056327106040634476364563863144017250862488474570053103863587352848843111666375034540732810351655380043840337021782354001748213436388068363330760667472300643362801551635188535573354040024347463738781018048514844555515641505722757315763131031026428236163375627176732343225743504271508175344540360754824403032078855465663114044470608758586788864200718661505735572656622346371382382675303502434832557121854866154671634045658548647176205780138808786408623408882508683702752dec0219498b1d3f75850fda76d4838f5b12376564c38e5a5a3368acde2bbd8458b7fbbae06a4b8f1680284f8b5def4a29de6749949fb149c417ee648f3a73bc3fa4531c502d2ee19a510b68f323dbcd8dbbb0063b706557650b53ff34772cb52ee37dd1100d1467da8c010235c56b7d0e427feadc5a83d45d17f999c902410a39f01ee459bc22de8979e2cb11b6b0f7baef85c7078512325590f693ec67990fcb08060f5d7817fd44c086e69d813f903d04a76935c765b6de306089ae7a4766dc9603444fd1e60ad8d502002c6063acae33050677e75200b5090d0f0f1c3211abfa350585474a3fcf3345e166bfebca2972ab16e45de5274e5fb82137ef80e69c519a582754defa6a036abcbedbd407dcb155f39d2810cb409802e0b0e480bafc0e0d2f651e69bb5e30a42712234f0d7519cf0cf36df6bbcc92cafc55359052fd2ba095bf995e254ed0d40e8a45209232583aa0a1b1699c62a58f1df4115722419831d9912cb8283d5d0a5a899ccb20e067ecb51a1bb66b85945775364c488cf40e2e878b0211e83d14a8f693ac6b3fa17f269e706f98762a3a151c4ee274d7c067641d25e6be598fa260e6653adbea2ae7419fc4f79f3da138af3fc3053906118f790b51a2054baf21ccb5ec85f03d7b1ddc653216b2a159a3764cee49ce8303b7ae57b5cbe497efdc9e4760807b27cd9c1c02791546b616495523e5f64750dc7a9e94896385ae78046e532983b61792b1b75178ddfd61cc762f8f5711c05021c5a7be883249542f1d98dd0a0e0185d7bb15d9ed011ec815be2772b3c6180041b8eff5d29ed43e57b20e8c0fa6edc004d6b7a108e632c9018a2f018891b438563d5994ed89b09da499f2b11e6c92b23d4f9798add9243066b0190db271245407f4f31a3056bbb7ec1675847c6f694f39199e28c27c15576a5a7fc9bf01cb5940267c7d2d07a72d022ed64adc04aab9ffc62257bcf142c75840d116d1950c1a25f4993eab6a1f690762ac4a4f6cc5c82418396b8ddffd5df3618bc5d1d8e23499578ca5916b824d0ca0bb35716700a82f50e28a87b0262ebf97950126e5fd0317ceaa7eecf45d653125f22bbe9df3696d48f35c41c6652d9ed158fe7d9d250a2c531ae1e347a9c70fbf6e92e8229a40a48dcbb387bd5d2ba6ea5a82b6fc3d39b28692cc0e80d7db209d1f81085474331cb6760d2c00f156a84e843c2f76b97798c8d12ecaaba19a4003af99f84980128353f3bafb83d49e513577f9094ea59f3a458e3d7c4ff834338eb1c4daa8dc71a2dddcd6f5e7111debe832f671a72c47ff4bf269ddc596e04ce9ca71882d2f46f0dd669fed0dd141febe4f646425ee8ded8f5abf10dcf8860da535967710742eee80b9b9b17876148f0f340f6c10a28aa2a08baa36fc7206eeb49d7ccbe665cfeaba0d840090443e5a16b3f85a81b7b783e3687d0a6a2cf7a0f4c2b2507311debd7760f1aa727d6628d40907707af7e95bd1489e3684708a15085d17a31f2dbca1cf68c5fed3ed7ac76128e1f9f88ecb7c76281b48bee233cab5b6f50d1f392073fa34db9c4c3ba6808e33d4146b60b0e1d127654770533ac71339fed5db4cfb7d161e4178f2561e829ac66e64f66eb425e5467d27e830e315224b5db65bdba243a5cd4fc621262197420f8e9edea5d1ee4a5b72f068247e4686043a7bc9b781416474eb19223210b904c473565b838f5c8655c2a6c133012b7e2f770a9233cb0bc69ebca39cddffa63d9837af2502e6cfc89fd8f0be81373e8c20d45b82fd92638e8fddfe35e043ca4151c26762682caeac69cf52a1079c16d07c6244a224b37ec8274e9744e896fcbe99c5dfa7ba0c07897eea4f02a573bd9f5460db34f31d47ada551de533caf75a792a73d71f98420a14c05a40f22733403956e9ecbe803d41287eb18ac9a614d007a06b9be73e781f4ee39c2a47fd29d537c53dc3e8475881b468250979330259b3eaf6d7ae5d2939dd649a6aa9e7b33e74816cc3d807f197b809f925e3238e0d6a4cc12d5117be73f0dd7d0276fca5cd6db50e5e94644631f01b90cfb1e6db4d3751d12d23ec68862f528aa8b3196a19e8f7de9f8adf391cc463b2a56d187f2d314e9345c1cbf572b2291e8c8b2de11af952110deea45f13e2c499bc57aac4af2caa40e39a0a0d8361f1dd1fa3dc418cc9972316724cd244ef11f866ad04523df80346bdd57e59cb16bb339a29127085873f2e23f500eb42f3903f462b40ab674749680517276999f6f233abd4c52fb986eb99f3fafc929368cc097b89041ace12e906dd65c32678b3d3e2a050742c4f211fac672f6c311004425a8ba18b38d96b1ff67baf1ae6f8cff1cae2565c14be33f13528ed2d36d362fe27d56e28a7f3c2a7ce3a02921c30585d46ec726e5c361c7cd340bffc8789357b5c42c6d02c946bd7154d987ba278194012ae3d05262cc85a32236499380c6c7b976813643a2e223127f25c469740e6e21d2cf7f6fe0f487a67103fd824bba85254d25279b8aa73b1b7897e3f8b2cd80f0b7bedd7fcfa055909e43a7e9f2b303c2d04197f7a9874ffd1a8470a080097f7c8a0b9464fd737380b9859c961b39a1d945dd9dab6a154246fc409d5df3d5868aa7cfa929f4faac223c13a790429d15b4a9759f00ca7cc62afb5f3709f4eff5d6c89a85644470d377c637911ba28bdbe730b81a10bf51b09e755270b5443003bbe12fe71a1d1a699edc6f1c125405eba5098c9ec35b337d1fe52a0be70d72bbafdcae94da4093dc8eaa03d641605776540f01903b420731f45fb6c42f2eae2b86d69205f48fcd9451dbfd5fa888d52bd1d8bea7d7119a9f59c80afb3ff422ed3cc6f5cc71dc1f079cd411dd37c66ff4e7934f2a6f40b5b9c3ed3f0126cfe9f4375fe370bad1e7c69e675ad0bc387b70181ffbc81d5bada915b1f5add8b12dcee3baed16af96a53569c90ffed7e27990ed87cf13f133b39a002be812f205275a93e71ecf861a7a522707bbc12d2271c0d77632c872c31f8037d12c87f097452c35d23d3c9a1a6d5fa694e2e11bcdc0f15e587d82cad2acb60063035a80099b29a9909be4771d4d4bdecde4f4970768140df33509807935e5140fd38097fdc17c0a2e5412288ffaaac504ed5b9148a251a7e57c834e2c682919979b76c51f604d569261d68bab3a86a0b56fcfe39c6e2483befe03d7873d4f811f2ce9aac214cb86c4e9ab28357c7b08e24ada3e4745d44a42f25e6605f64ce82de5bb33fa32fe294e0485af3bdba914d2f831d50f14ae217e936d87675d89fa6489879cc237cb28c598d8b7e26576926fae88da0a8488254a76543443bb7884548ac2593bd72abc0396b869c54294494be06fe6c3c7c3de7c99e565445c2b8f65f895835433740c50bc1492bdd047aa8d8732705c0d5b26a1db372fcc7a7467bb395caccd122208e265736fc03843b94202b413aec83a4c96d2d3ba0c20a261cfedd44bf420a1b68d2c82413bc7fd8510c854121fd5fbf8f5125ba968331508bb9cfa']);

// const externalProgram = spawn('external_program/a.out', ['arg1', 'arg2']);

let res = '';

exeFile.stdout.on('data', (data) => {
    console.log(`execute result of c code: ${data}`);
    res = data;
});

exeFile.on('close', (code) => {
    console.log(`exit code of c program: ${code}`);
    // console.log(`\nlet res: ${res}`);
    // console.log('typeof(res): ' + typeof(res));
});

